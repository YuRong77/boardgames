(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f18d0430"],{"129f":function(t,a){t.exports=Object.is||function(t,a){return t===a?0!==t||1/t===1/a:t!=t&&a!=a}},"466d":function(t,a,e){"use strict";var i=e("d784"),r=e("825a"),s=e("50c4"),n=e("1d80"),c=e("8aa5"),o=e("14c3");i("match",1,(function(t,a,e){return[function(a){var e=n(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,e):new RegExp(a)[t](String(e))},function(t){var i=e(a,t,this);if(i.done)return i.value;var n=r(t),l=String(this);if(!n.global)return o(n,l);var u=n.unicode;n.lastIndex=0;var d,p=[],g=0;while(null!==(d=o(n,l))){var f=String(d[0]);p[g]=f,""===f&&(n.lastIndex=c(l,s(n.lastIndex),u)),g++}return 0===g?null:p}]}))},"72de":function(t,a,e){},"841c":function(t,a,e){"use strict";var i=e("d784"),r=e("825a"),s=e("1d80"),n=e("129f"),c=e("14c3");i("search",1,(function(t,a,e){return[function(a){var e=s(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,e):new RegExp(a)[t](String(e))},function(t){var i=e(a,t,this);if(i.done)return i.value;var s=r(t),o=String(this),l=s.lastIndex;n(l,0)||(s.lastIndex=0);var u=c(s,o);return n(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},9661:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[i("template",{slot:"default"},[i("img",{attrs:{src:e("333e"),alt:""}})])],2),i("div",{staticClass:"productbanner container px-0"},[i("swiper",{staticClass:"swiper",attrs:{options:t.bannerOptions}},[i("swiper-slide",[i("div",{staticClass:"bannerimg3"})]),i("swiper-slide",[i("div",{staticClass:"bannerimg4"})]),i("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),i("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],1)],1),i("div",{staticClass:"productlist container"},[i("nav",{attrs:{"aria-label":"breadcrumb d-sm-none d-md-block"}},[i("ol",{staticClass:"breadcrumb bg-white mb-0"},[i("li",{staticClass:"breadcrumb-item text-funOrange"},[i("router-link",{staticClass:"text-funOrange",attrs:{to:"/"}},[t._v("首頁")])],1),i("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" 商品 ")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-3"},[i("div",{staticClass:"list-group text-center sticky-list mb-4"},[i("a",{staticClass:"list-group-item list-group-item-action",class:{active:""==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory=""}}},[t._v(" 全部商品")]),i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"兒童"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="兒童"}}},[t._v(" 兒童遊戲")]),i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"派對"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="派對"}}},[t._v("派對遊戲")]),i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"策略"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="策略"}}},[t._v("策略遊戲")]),i("a",{staticClass:"list-group-item list-group-item-action",class:{active:"推理"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="推理"}}},[t._v("推理遊戲")]),i("div",{staticClass:"input-group mt-3"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入桌遊名稱","aria-label":"Search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])])]),i("div",{staticClass:"col-md-9"},[i("div",{staticClass:"row"},t._l(t.filterProducts,(function(a){return i("div",{key:a.id,staticClass:"col-md-6 col-lg-4 mb-4"},[i("div",{staticClass:"card border-1 shadow-sm"},[i("div",{staticStyle:{height:"180px","background-repeat":"no-repeat","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),i("div",{staticClass:"card-body"},[i("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),i("h5",{staticClass:"card-title text-dark"},[t._v(" "+t._s(a.title)+" ")]),i("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price==a.origin_price?i("div",{staticClass:"h4 text-funOrange"},[t._v(" $"+t._s(a.origin_price)+" 元 ")]):t._e(),a.price!==a.origin_price?i("del",{staticClass:"h6 text-funOrange"},[t._v(t._s(a.origin_price)+" 元")]):t._e(),a.price!==a.origin_price?i("div",{staticClass:"h4 text-funDarkOrange"},[t._v(" $"+t._s(a.price)+" 元 ")]):t._e()])]),i("div",{staticClass:"card-footer d-flex"},[i("button",{staticClass:"btn btn-outline-secondary btn-sm px-3",attrs:{type:"button"},on:{click:function(e){return t.getProduct(a.id)}}},[t._v(" 詳細內容 ")]),i("button",{staticClass:"btn btn-funOrange btn-sm ml-auto text-light",attrs:{type:"button"},on:{click:function(e){return t.addtoCart(a.id)}}},[t.loadingItem===a.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車 ")])])])])})),0),""==t.productCategory&&""==t.search?i("div",{staticClass:"text-center my-5",attrs:{"aria-label":"Page navigation example"}},[i("div",{staticClass:"nav d-inline-block"},[i("ul",{staticClass:"pagination"},[i("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return i("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[i("a",{staticClass:"page-link ",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])})),i("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])]):t._e()])])])],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text bg-light border"},[e("i",{staticClass:"fas fa-search text-funOrange"})])])}],s=(e("99af"),e("4de4"),e("ac1f"),e("466d"),e("841c"),e("1157")),n=e.n(s),c=e("7212"),o={components:{Swiper:c["Swiper"],SwiperSlide:c["SwiperSlide"]},data:function(){return{isLoading:!1,bannerOptions:{autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},products:[],allproducts:[],loadingItem:"",product:{},cart:{},productCategory:"",filterProducts:[],search:"",pagination:{}}},watch:{productCategory:function(){this.filterproducts()},search:function(){this.search?this.filterSearch():this.filterproducts()}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/products?page=").concat(t);a.isLoading=!0,a.$http.get(e).then((function(t){a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1,a.filterProducts=a.products,a.productCategory=a.$route.query.productCategory}))},getProduct:function(t){this.$router.push("/product/".concat(t))},filterproducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/products/all");t.$http.get(a).then((function(a){t.allproducts=a.data.products,""!==t.productCategory?t.filterProducts=t.allproducts.filter((function(a){return a.category==t.productCategory})):t.filterProducts=t.products}))},filterSearch:function(){var t=this,a=t.allproducts.filter((function(a){return a.title.match(t.search)}));t.filterProducts=a},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/cart");e.loadingItem=t;var r={product_id:t,qty:a};e.$http.post(i,{data:r}).then((function(t){e.loadingItem="",e.getCart(),n()("#productModal").modal("hide"),e.$bus.$emit("message:push","加入成功","funOrange")}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/cart");t.$http.get(a).then((function(a){t.cart=a.data.data}))}},created:function(){this.getProducts(),this.getCart()}},l=o,u=(e("e0e0"),e("2877")),d=Object(u["a"])(l,i,r,!1,null,"294905f2",null);a["default"]=d.exports},e0e0:function(t,a,e){"use strict";var i=e("72de"),r=e.n(i);r.a}}]);
//# sourceMappingURL=chunk-f18d0430.ee350e4a.js.map