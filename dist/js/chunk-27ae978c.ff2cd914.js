(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27ae978c"],{4716:function(t,a,i){},9661:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("template",{slot:"default"},[s("img",{attrs:{src:i("333e"),alt:""}})])],2),s("div",{staticClass:"productbanner container px-0"},[s("Slick",{ref:"slick",attrs:{options:t.bannerOptions}},[s("div",{staticClass:"img3"}),s("div",{staticClass:"img4"},[s("h2",{staticClass:"display-4 text-white text-center pt-5 mt-5"},[s("strong",[t._v("新貨上市")])])])])],1),s("div",{staticClass:"productlist container"},[s("nav",{attrs:{"aria-label":"breadcrumb d-sm-none d-md-block"}},[s("ol",{staticClass:"breadcrumb bg-white mb-0"},[s("li",{staticClass:"breadcrumb-item text-funOrange"},[s("router-link",{staticClass:"text-funOrange",attrs:{to:"/"}},[t._v("首頁")])],1),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" 商品 ")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"list-group text-center sticky-list mb-4"},[s("a",{staticClass:"list-group-item list-group-item-action",class:{active:""==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory=""}}},[t._v(" 全部商品")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"兒童"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="兒童"}}},[t._v(" 兒童遊戲")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"派對"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="派對"}}},[t._v("派對遊戲")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"策略"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="策略"}}},[t._v("策略遊戲")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"推理"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="推理"}}},[t._v("推理遊戲")])])]),s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"row"},t._l(t.filterProducts,(function(a){return s("div",{key:a.id,staticClass:"col-md-6 col-lg-4 mb-4"},[s("div",{staticClass:"card border-1 shadow-sm"},[s("div",{staticStyle:{height:"180px","background-repeat":"no-repeat","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"card-body"},[s("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),s("h5",{staticClass:"card-title text-dark"},[t._v(" "+t._s(a.title)+" ")]),s("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price==a.origin_price?s("div",{staticClass:"h4 text-funOrange"},[t._v(" $"+t._s(a.origin_price)+" 元 ")]):t._e(),a.price!==a.origin_price?s("del",{staticClass:"h6 text-funOrange"},[t._v(t._s(a.origin_price)+" 元")]):t._e(),a.price!==a.origin_price?s("div",{staticClass:"h4 text-funDarkOrange"},[t._v(" $"+t._s(a.price)+" 元 ")]):t._e()])]),s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm px-3",attrs:{type:"button"},on:{click:function(i){return t.getProduct(a.id)}}},[t._v(" 詳細內容 ")]),s("button",{staticClass:"btn btn-funOrange btn-sm ml-auto text-light",attrs:{type:"button"},on:{click:function(i){return t.addtoCart(a.id)}}},[t.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車 ")])])])])})),0),""==t.productCategory?s("div",{staticClass:"text-center my-5",attrs:{"aria-label":"Page navigation example"}},[s("div",{staticClass:"nav d-inline-block"},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return s("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[s("a",{staticClass:"page-link ",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])})),s("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[s("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])]):t._e()])])])],1)},e=[],r=(i("99af"),i("4de4"),i("1157")),c=i.n(r),n=i("7ecd"),o={components:{Slick:n["a"]},data:function(){return{isLoading:!1,bannerOptions:{slidesToShow:1,arrows:!0,autoplay:!0,autoplaySpeed:4e3,dots:!1,prevArrow:"<button class='btn btn-l'><i class='fas fa-chevron-left fa-2x'></i></button>",nextArrow:"<button class='btn btn-r'><i class='fas fa-chevron-right fa-2x'></i></button>"},products:[],loadingItem:"",product:{},cart:{},productCategory:"",filterProducts:[],pagination:{}}},watch:{productCategory:function(){this.filterproducts()}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/products?page=").concat(t);this.isLoading=!0,this.$http.get(i).then((function(t){a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1,a.filterProducts=a.products,a.productCategory=a.$route.query.productCategory}))},getProduct:function(t){this.$router.push("/product/".concat(t))},filterproducts:function(){var t=this,a=[],i="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/products/all");this.$http.get(i).then((function(i){a=i.data.products,""!==t.productCategory?t.filterProducts=a.filter((function(a){return a.category==t.productCategory})):t.filterProducts=t.products}))},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/cart");this.loadingItem=t;var e={product_id:t,qty:a};this.$http.post(s,{data:e}).then((function(t){i.loadingItem="",i.getCart(),c()("#productModal").modal("hide"),i.$bus.$emit("message:push","加入成功","funOrange")}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/cart");this.$http.get(a).then((function(a){t.cart=a.data.data}))}},created:function(){this.getProducts(),this.getCart()}},l=o,u=(i("b357"),i("2877")),d=Object(u["a"])(l,s,e,!1,null,"7a601f72",null);a["default"]=d.exports},b357:function(t,a,i){"use strict";var s=i("4716"),e=i.n(s);e.a}}]);
//# sourceMappingURL=chunk-27ae978c.ff2cd914.js.map