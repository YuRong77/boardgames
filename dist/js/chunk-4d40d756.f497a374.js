(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d40d756"],{"129f":function(t,a){t.exports=Object.is||function(t,a){return t===a?0!==t||1/t===1/a:t!=t&&a!=a}},"466d":function(t,a,i){"use strict";var e=i("d784"),r=i("825a"),s=i("50c4"),n=i("1d80"),c=i("8aa5"),o=i("14c3");e("match",1,(function(t,a,i){return[function(a){var i=n(this),e=void 0==a?void 0:a[t];return void 0!==e?e.call(a,i):new RegExp(a)[t](String(i))},function(t){var e=i(a,t,this);if(e.done)return e.value;var n=r(t),l=String(this);if(!n.global)return o(n,l);var u=n.unicode;n.lastIndex=0;var d,p=[],g=0;while(null!==(d=o(n,l))){var f=String(d[0]);p[g]=f,""===f&&(n.lastIndex=c(l,s(n.lastIndex),u)),g++}return 0===g?null:p}]}))},"656c":function(t,a,i){},"841c":function(t,a,i){"use strict";var e=i("d784"),r=i("825a"),s=i("1d80"),n=i("129f"),c=i("14c3");e("search",1,(function(t,a,i){return[function(a){var i=s(this),e=void 0==a?void 0:a[t];return void 0!==e?e.call(a,i):new RegExp(a)[t](String(i))},function(t){var e=i(a,t,this);if(e.done)return e.value;var s=r(t),o=String(this),l=s.lastIndex;n(l,0)||(s.lastIndex=0);var u=c(s,o);return n(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},b7e1:function(t,a,i){"use strict";var e=i("656c"),r=i.n(e);r.a},fede:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-light py-4"},[e("div",{staticClass:"container-lg bg-white shadow-sm px-0 pb-2"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[e("template",{slot:"default"},[e("img",{attrs:{src:i("333e"),alt:""}})])],2),e("div",{staticClass:"productbanner"},[e("swiper",{staticClass:"swiper",attrs:{options:t.bannerOptions}},[e("swiper-slide",[e("div",{staticClass:"bannerimg3"})]),e("swiper-slide",[e("div",{staticClass:"bannerimg4"})]),e("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),e("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],1)],1),e("div",{staticClass:"productlist px-3"},[e("nav",{attrs:{"aria-label":"breadcrumb d-sm-none d-md-block"}},[e("ol",{staticClass:"breadcrumb bg-white mb-0"},[e("li",{staticClass:"breadcrumb-item text-funOrange"},[e("router-link",{staticClass:"text-funOrange",attrs:{to:"/"}},[t._v("首頁")])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" 商品 ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"list-group text-center sticky-list mb-4"},[e("a",{staticClass:"list-group-item list-group-item-action",class:{active:""==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory=""}}},[t._v(" 全部商品")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"兒童"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="兒童"}}},[t._v(" 兒童遊戲")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"派對"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="派對"}}},[t._v("派對遊戲")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"策略"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="策略"}}},[t._v("策略遊戲")]),e("a",{staticClass:"list-group-item list-group-item-action",class:{active:"推理"==t.productCategory},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.productCategory="推理"}}},[t._v("推理遊戲")]),e("div",{staticClass:"input-group mt-3"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search,expression:"search",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入桌遊名稱","aria-label":"Search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])])]),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"row"},t._l(t.filterProducts,(function(a){return e("div",{key:a.id,staticClass:"col-md-6 col-lg-4 mb-4"},[e("div",{staticClass:"gamescard card border-1 shadow-sm",on:{click:function(i){return t.getProduct(a.id)}}},[e("div",{staticStyle:{height:"180px","background-repeat":"no-repeat","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),e("h5",{staticClass:"card-title text-dark"},[t._v(" "+t._s(a.title)+" ")]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price==a.origin_price?e("div",{staticClass:"h4 text-funOrange"},[t._v(" $"+t._s(a.origin_price)+" 元 ")]):t._e(),a.price!==a.origin_price?e("div",{staticClass:"h4 text-funDarkOrange"},[t._v(" $"+t._s(a.price)+" 元 ")]):t._e(),a.price!==a.origin_price?e("del",{staticClass:"h6 text-funOrange"},[t._v(t._s(a.origin_price)+" 元")]):t._e()])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-secondary btn-sm px-3",attrs:{type:"button"},on:{click:function(i){return i.stopPropagation(),t.getProduct(a.id)}}},[t._v(" 詳細內容 ")]),e("button",{staticClass:"btn btn-funOrange btn-sm ml-auto text-light",attrs:{type:"button"},on:{click:function(i){return i.stopPropagation(),t.addtoCart(a)}}},[t.loadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車 ")])])])])})),0),""==t.productCategory&&""==t.search?e("div",{staticClass:"text-center mt-4",attrs:{"aria-label":"Page navigation example"}},[e("div",{staticClass:"nav d-inline-block"},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[e("a",{staticClass:"page-link ",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getProducts(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getProducts(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])]):t._e()])])])],1)])},r=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text bg-light border"},[i("i",{staticClass:"fas fa-search text-funOrange"})])])}],s=(i("99af"),i("4de4"),i("ac1f"),i("466d"),i("841c"),i("7212")),n={components:{Swiper:s["Swiper"],SwiperSlide:s["SwiperSlide"]},data:function(){return{isLoading:!1,bannerOptions:{autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},products:[],allproducts:[],filterProducts:[],product:{},storageCart:[],pagination:{},loadingItem:"",productCategory:"",search:""}},watch:{productCategory:function(){this.filterproducts()},search:function(){this.search?this.filterSearch():this.filterproducts()}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/products?page=").concat(t);a.isLoading=!0,a.$http.get(i).then((function(t){a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1,a.filterProducts=a.products,a.productCategory=a.$route.query.productCategory}))},getProduct:function(t){this.$router.push("/product/".concat(t))},filterproducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yurong77","/products/all");t.$http.get(a).then((function(a){t.allproducts=a.data.products,""!==t.productCategory?t.filterProducts=t.allproducts.filter((function(a){return a.category===t.productCategory})):t.filterProducts=t.products}))},filterSearch:function(){var t=this,a=t.allproducts.filter((function(a){return a.title.match(t.search)}));t.filterProducts=a},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$bus.$emit("addCart",t,a)}},created:function(){this.getProducts(),this.filterproducts()}},c=n,o=(i("b7e1"),i("2877")),l=Object(o["a"])(c,e,r,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4d40d756.f497a374.js.map